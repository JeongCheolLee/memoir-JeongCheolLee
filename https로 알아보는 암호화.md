![image](https://d1ccleacxg8gcm.cloudfront.net/JeongCheolLee/images/9939e630a1ag8.png)

# 본문

---

가장 크게 암호화 방식은 양방향 암호화, 단방향 암호화 이렇게 두 가지로 나눠집니다.

복호화가 불가능한 방식을 단방향 암호화, 가능한 방식을 양방향 암호화라고 합니다.

계정/로그인 기능을 구현할 때를 예시로 들자면, 비밀번호같이 복호화 할 필요가 없는 데이터들은 단방향 암호화(SHA-256) 해서 저장하고, 전화번호 등 복호화가 필요한 데이터들은 양방향 암호화(AES, RSA) 등을 사용해 DB에 적재해야 합니다. 지난주 살펴봤던 TLS의 경우에도 암/복호화가 진행되어야 하기 때문에 양방향 암호화가 사용됩니다.

양방향 암호화는 또 크게 두 가지로 나뉘어집니다.

많이들 들어보셨을 법한 대칭키, 비대칭키(공개키)인데요.

쉽게 생각하면, 암복호화에 사용하는 키가 동일하다면 대칭키, 서로 다르다면 비대칭키(공개키)라고 할 수 있습니다.

대칭키를 먼저 살펴보면 아래와 같습니다.

![image](https://d1ccleacxg8gcm.cloudfront.net/JeongCheolLee/images/i9b6hd2614fc7.png)

암호화/복호화 과정에서 똑같은 key가 사용됩니다. 그렇다 보니 연산이 간단해져 암복호화가 더 빠르다는 장점이 있다고 합니다. 반면, key가 노출이 되면 보안이 완전히 무너지게 되면서 암/복호화 주체가 key를 교환하는 안전한 방법을 고안해야 합니다. 어쨌든 암호화 key를 주고 받아야 시작을 할 수 있으니까요

비대칭키(공개키)

![image](https://d1ccleacxg8gcm.cloudfront.net/JeongCheolLee/images/fi7jb52bgi0d6.png)


비대칭 키는 흔히 공개키, 개인키 방식이라고도 합니다.

공개키를 통해 암호화하고, 그 내용은 개인키로만 풀 수 있다는 게 원리인데요. 공개키는 누구에게나 접근이 가능하도록 되어있는 게 특징입니다. 하지만 개인키는 메시지를 수신하는 본인만 가지고 있는 구조입니다. (보내는 사람도 복호화가 불가능합니다)

암호화를 이해하고 다시 보는 https (고마워요 GPT!)

맞아요! HTTPS는 **대칭키**와 **비대칭키**를 **효율적으로 결합**해서 사용합니다. 각각의 장점을 살리면서 보안과 성능을 모두 확보하죠. 어떻게 동작하는지 간단히 설명할게요! 🌐🔐

---

### 1️⃣ **HTTPS에서 비대칭키 사용**

초기 연결(핸드셰이크) 단계에서 **비대칭키**를 사용해 보안을 설정합니다.

1. **클라이언트(브라우저)가 서버의 공개키를 받음**:
    - 서버는 **SSL/TLS 인증서**를 통해 공개키를 클라이언트에게 보냅니다.
    - 인증서를 통해 서버의 신뢰성을 확인.
2. **클라이언트가 대칭키를 암호화해서 보냄**:
    - 클라이언트는 생성한 **대칭키(세션 키)**를 서버의 공개키로 암호화해서 서버에 전송.
    - 서버는 자신의 **개인키**로 암호화된 대칭키를 복호화합니다.
    - 이제 클라이언트와 서버는 **같은 대칭키**를 공유하게 됩니다.

**비대칭키의 역할**:

- 안전하게 대칭키를 교환.
- 서버 인증(공개키로 서버의 신뢰성 검증).

---

### 2️⃣ **HTTPS에서 대칭키 사용**

핸드셰이크가 끝나고 대칭키가 공유되면, 실제 데이터 전송은 **대칭키 암호화**를 사용합니다.

- *대칭키(AES 등)**를 사용해 클라이언트와 서버가 데이터를 암호화/복호화.
- 대칭키는 비대칭키보다 **속도가 빠르기 때문에** 대량의 데이터를 암호화하는 데 적합.

---

### 왜 둘 다 사용하는 걸까? 🤔

1. **비대칭키만 사용하면?**
    - 보안은 강하지만, 비대칭키 암호화는 연산량이 많아 속도가 느림.
    - 특히 대량의 데이터 전송에는 적합하지 않음.
2. **대칭키만 사용하면?**
    - 암호화와 복호화는 빠르지만, 키를 안전하게 공유하기 어렵고, 키가 유출되면 보안이 뚫림.
3. **결합하면?**
    - 비대칭키를 사용해 **대칭키를 안전하게 교환**.
    - 이후 대칭키로 데이터를 빠르게 암호화/복호화.
    - 이렇게 하면 **보안과 성능** 모두 확보 가능.

---

### 📜 **HTTPS 과정 요약**

1. 클라이언트가 서버의 공개키를 받아 신뢰를 확인.
2. 클라이언트가 대칭키를 생성해 서버 공개키로 암호화 → 서버는 개인키로 복호화.
3. 클라이언트와 서버가 대칭키를 공유 → 이후 데이터 전송은 대칭키로 암호화.


